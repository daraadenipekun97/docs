{"version":3,"file":"component---src-pages-provider-index-js-4552be0ca3b79e0645dd.js","mappings":"6MASMA,EAAW,SAAAC,GAAK,OAAIA,CAAJ,EACtB,mBAAe,GAAe,IAAZC,EAAW,EAAXA,KAEhB,GAAkCC,EAAAA,EAAAA,UAAS,IAApCC,EAAP,KAAkBC,EAAlB,KACQC,GAAsBC,EAAAA,EAAAA,aAAYP,GAAlCM,kBACDE,EAAcN,EAAKO,KAAKC,aAAxBF,WACDG,GAAWC,EAAAA,EAAAA,eACXC,EAAU,CACd,CACEC,KAAM,IACNC,SAAU,KACVC,UAAU,GAEZ,CACEF,KAAM,QACNC,SAAU,QACVC,UAAU,GAEZ,CACEF,KAAM,OACNE,UAAU,EACVC,KAAM,SAAAC,GAAG,OAAI,QAAC,KAAD,CAAMC,GAAID,EAAIE,MAAOF,EAAIE,KAA7B,IAGPC,GAAWC,EAAAA,EAAAA,eAgBjB,OAfAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAYb,EAASc,SAASC,MAAM,KAAK,GAC5CpB,IAAsBkB,GACvBH,GAASM,EAAAA,EAAAA,IAAaH,IAExB,IAAMI,EAAa1B,EAAK2B,kBAAkBC,MAAMC,QAAO,SAAAC,GAErD,OADexB,EAAWyB,QAAQ3B,GAAqB,IACrC0B,EAAKE,KAAKC,YAAYC,MACzC,IAAEC,KAAI,SAACL,EAAMM,GAAP,MAAiB,CACtBC,GAAID,EAAQ,EACZE,MAAOR,EAAKE,KAAKC,YAAYK,MAC7BpB,KAAMY,EAAKE,KAAKO,OAAOC,KAHlB,IAKPrC,EAAauB,EACd,GAAE,CAACtB,EAAmBE,EAAYN,EAAK2B,kBAAkBC,MAAOT,EAAUV,EAASc,YAElF,yBACA,QAAC,IAAD,OACA,gBAAMkB,KAAK,OAAOC,UAAU,gEAC1B,QAAC,IAAD,MACI,QAAC,KAAD,CACEJ,MAAUlC,EAAL,UACLO,QAASA,EACTX,KAAQE,EACRyC,YAAU,MAhDtB,C","sources":["webpack://careplus/./src/pages/provider/index.js"],"sourcesContent":["import { useLocation } from \"@reach/router\"\r\nimport { graphql, Link } from \"gatsby\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Container } from \"reactstrap\"\r\nimport { selectModule } from \"../../actions/AppModule\"\r\nimport Header from '../../components/header'\r\n\r\nconst getState = state => state\r\nexport default ({ data }) => {\r\n  // console.log({ data })\r\n  const [tableData, setTableData] = useState([])\r\n  const { selectedAppModule } = useSelector(getState)\r\n  const {appModules} = data.site.siteMetadata\r\n  const location = useLocation()\r\n  const columns = [\r\n    {\r\n      name: '#',\r\n      selector: 'sn',\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: 'Title',\r\n      selector: 'title',\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: 'Link',\r\n      sortable: true,\r\n      cell: row => <Link to={row.link}>{row.link}</Link>\r\n    }\r\n  ]\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    const moduleUrl = location.pathname.split('/')[1]\r\n    if(selectedAppModule !== moduleUrl) {\r\n      dispatch(selectModule(moduleUrl))\r\n    }\r\n    const tableDataT = data.allMarkdownRemark.edges.filter(edge => {\r\n      const appMod = appModules.indexOf(selectedAppModule) + 1\r\n      return appMod === edge.node.frontmatter.module\r\n    }).map((edge, index) =>({\r\n      sn: index + 1,\r\n      title: edge.node.frontmatter.title,\r\n      link: edge.node.fields.slug\r\n    }))\r\n    setTableData(tableDataT)\r\n  }, [selectedAppModule, appModules, data.allMarkdownRemark.edges, dispatch, location.pathname])\r\n  return (\r\n    <>\r\n    <Header />\r\n    <main role=\"main\" className=\"d-flex col-md-9 ml-sm-auto col-lg-10 px-md-4 h-100 bg-white\">\r\n      <Container>\r\n          <DataTable\r\n            title={`${selectedAppModule} Module`}\r\n            columns={columns}\r\n            data = {tableData}\r\n            pagination\r\n          />\r\n       </Container>\r\n    </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query {\r\n    site {\r\n      siteMetadata {\r\n        appModules\r\n      }\r\n    }\r\n    allMarkdownRemark(\r\n      sort: { fields: frontmatter___submenuOrder, order: ASC }\r\n    ) {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            module\r\n            title\r\n          }\r\n          fields {\r\n            slug\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"names":["getState","state","data","useState","tableData","setTableData","selectedAppModule","useSelector","appModules","site","siteMetadata","location","useLocation","columns","name","selector","sortable","cell","row","to","link","dispatch","useDispatch","useEffect","moduleUrl","pathname","split","selectModule","tableDataT","allMarkdownRemark","edges","filter","edge","indexOf","node","frontmatter","module","map","index","sn","title","fields","slug","role","className","pagination"],"sourceRoot":""}